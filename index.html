<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ryan Lai: Portfolio</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            height: 100%;
            overflow-y: scroll;
            scroll-behavior: smooth;
        }
        .sea {
            position: relative;
            height: 200vh;
            background: linear-gradient(to bottom, #aeeeee, #003366);
            overflow: hidden;
        }
        .boat {
            position: absolute;
            width: 100px;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            animation: bob 2s ease-in-out infinite;
        }
        @keyframes bob {
            0%, 100% {
                top: 20px;
            }
            50% {
                top: 25px;
            }
        }
        .fish {
            position: absolute;
            width: 50px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .fish:hover {
            transform: scale(1.2);
        }
        .hook {
            position: absolute;
            width: 50px;
            pointer-events: none;
        }
        .content {
            position: absolute;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            text-align: center;
            font-size: 1.5em;
            width: 80%;
        }
        canvas {
          position: absolute; 
          top: 0; 
          left: 0; 
          pointer-events: none; 
        }

        /* New styles for the preview box */
        .preview-box {
            display: none; /* Hidden by default */
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0px 0px 10px rgba(0,0,0,0.5);
        }

        /* Show preview box when hovering over fish */
        .fish:hover + .preview-box {
            display: block; /* Show on hover */
        }

    </style>
</head>
<body>
    <div class="sea" id="sea">
        <img src="https://images.vexels.com/content/261268/preview/launch-ferry-ship-drawing-59abd8.png" class="boat" alt="Boat">
        
        <!-- Fish images with corresponding preview boxes -->
        <div style="position:absolute; top:40%; left:10%;">
          <a target = "_blank" href = "diamondranger20.github.io"> <img src="https://static.wikia.nocookie.net/cat-goes-fishing/images/5/56/Cuddlefish_clear.png/revision/latest?cb=20211121005915" class="fish" onclick="showContent('about')"> </a>
          <div class="preview-box" style="left:70%; top:-10%;">Visit previous website on click.</div>
        </div>

        <div style="position:absolute; top:70%; left:30%;">
          <img src="https://static.wikia.nocookie.net/cat-goes-fishing/images/5/50/Skitter_clear.png/revision/latest?cb=20230729124342" class="fish" onclick="showContent('projects')">
          <div class="preview-box" style="left:70%; top:-10%;">Projects Info</div>
        </div>

        <div style="position:absolute; top:90%; left:50%;">
          <img src="https://static.wikia.nocookie.net/cat-goes-fishing/images/4/45/Trillow-transparent-background.png/revision/latest?cb=20191117221642" class="fish" onclick="showContent('contact')">
          <div class="preview-box" style="left:-150%; top:-10%;">Contact Information</div>
        </div>

        <img src="https://images.vexels.com/media/users/3/207123/isolated/lists/c68c0014749e9df86d54c8910f27a698-fishing-hook-illustration.png" class="hook" alt="Fishing Hook" id="hook">
        
        <canvas id="stringCanvas"></canvas>
        <canvas id="bubbleCanvas"></canvas>

        <div class="content" id="content">
            <h1>Fish for ideas.</h1>
            <p>Click on the fish to learn more!</p>
        </div>
    </div>

    <script>
      const contentDiv = document.getElementById('content');
      const hook = document.getElementById('hook');
      const boat = document.querySelector('.boat');

      document.addEventListener('mousemove', (e) => {
          const hookWidth = hook.offsetWidth / 2; 
          const hookHeight = hook.offsetHeight / 2;

          hook.style.left = (e.pageX - hookWidth) + 'px';
          hook.style.top = (e.pageY - hookHeight) + 'px';

          drawString();
      });

      function drawString() {
          const canvas = document.getElementById('stringCanvas');
          const ctx = canvas.getContext('2d');

          canvas.width = window.innerWidth; 
          canvas.height = window.innerHeight; 

          const boatRect = boat.getBoundingClientRect();
          const boatCenterX = boatRect.left + boatRect.width / 2;

          ctx.clearRect(0, 0, canvas.width, canvas.height); 
          ctx.beginPath();
          ctx.moveTo(boatCenterX, boatRect.top + boatRect.height);
          ctx.lineTo(hook.offsetLeft + (hook.offsetWidth / 2), hook.offsetTop + (hook.offsetHeight / 2));
          ctx.strokeStyle = 'black';
          ctx.lineWidth = 2;
          ctx.stroke();
      }

      function showContent(section) {
          let content = '';
          switch (section) {
              case 'about':
                  content = '<h1>Go fishing with Ryan Lai</h1>';
                  break;
              case 'projects':
                  content = '<h1>Each fish has different info blah blah</h1><p>filler text ngl</p>';
                  break;
              case 'contact':
                  content = '<h1>Contact Me!!</h1><p>placeholder again</p>';
                  break;
          }
          contentDiv.innerHTML = content + '<button onclick="hideContent()">Back</button>';
      }

      function hideContent() {
          contentDiv.innerHTML = '<h1>Welcome to my portfolio wowwww</h1><p>Click on the fish to learn more!</p>';
      }

      const bubbleCanvas = document.getElementById('bubbleCanvas');
      const bubbleCtx = bubbleCanvas.getContext('2d');
      let bubbles = [];

      function createBubble() {
          const x = Math.random() * window.innerWidth; 
          const y = window.innerHeight; 
          const radius = Math.random() * (15 - 5) + 5; 
          
          bubbles.push({ x, y, radius });
      }

      function drawBubbles() {
          bubbleCtx.clearRect(0, 0, bubbleCanvas.width, bubbleCanvas.height); 

          bubbles.forEach((bubble, index) => {
              bubble.y -= Math.random() * (2 - 1) + 1; 
              bubbleCtx.beginPath();
              bubbleCtx.arc(bubble.x, bubble.y, bubble.radius, 0, Math.PI * 2);
              bubbleCtx.fillStyle = 'rgba(255,255,255,0.7)';
              bubbleCtx.fill();
              bubbleCtx.closePath();

              if (bubble.y + bubble.radius < 0) {
                  bubbles.splice(index, 1);
              }
          });
      }

      function animateBubbles() {
          drawBubbles();
          requestAnimationFrame(animateBubbles);
      }

      setInterval(createBubble, 2000); 
      animateBubbles(); 

    </script>

</body>
</html>
